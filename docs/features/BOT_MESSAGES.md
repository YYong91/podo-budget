# 봇 응답 메시지 시나리오 (Bot Response Messages)

> Telegram 봇이 사용자에게 보내는 모든 메시지 템플릿 및 시나리오

## 문서 정보
- **버전**: 1.0.0
- **작성일**: 2026-02-12
- **메시지 톤**: 친근하고 간결, 이모지 적절히 활용
- **기본 원칙**: 사용자 행동 유도 명확, 에러 메시지는 해결 방법 포함

---

## 1. 온보딩 메시지 (Onboarding)

### 1.1 최초 대화 시작 (`/start`)

```
🎉 HomeNRich에 오신 걸 환영합니다!

AI가 알아서 정리해주는 똑똑한 가계부예요.
카톡 보내듯 편하게 지출을 입력하면
자동으로 카테고리를 분류하고 저장해드립니다.

📝 사용법은 아주 간단해요:
"점심에 김치찌개 8000원"
"스타벅스 아메리카노 4500원"
"택시비 2만원"

지금 바로 시작해볼까요?
아래 예시를 눌러보거나 직접 입력해보세요!
```

**인라인 버튼**:
- `[📍 예시 1] "점심 김치찌개 8000원"`
- `[📍 예시 2] "스타벅스 아메리카노 4500원"`
- `[📍 예시 3] "택시비 2만원"`
- `[🌐 웹 대시보드 열기]`

---

### 1.2 첫 지출 저장 후

```
🎊 축하합니다! 첫 지출이 기록되었어요.

이제 언제 어디서든 지출을 입력하면
자동으로 정리됩니다.

💡 다음 단계:
· 웹 대시보드에서 확인하기 → [여기 클릭]
· 월별 예산 설정하기 (권장) → /budget
· 도움말 보기 → /help

계속해서 지출을 입력해보세요!
```

---

## 2. 지출 입력 성공 메시지 (Expense Saved)

### 2.1 기본 성공 응답 (확신도 높음)

```
✅ 지출이 기록되었어요!

💰 8,000원
📂 식비 → 외식
📅 2월 12일 (화) 점심
📝 김치찌개

[수정] [삭제]
```

**변수**:
- `{amount}`: 금액 (쉼표 포맷)
- `{category_primary}`: 대분류
- `{category_sub}`: 중분류
- `{date}`: 날짜 (M월 D일 요일)
- `{time_label}`: 점심/저녁 등 (있으면 표시)
- `{description}`: 메모

---

### 2.2 여러 지출 동시 저장

```
✅ 2건의 지출이 기록되었어요!

1️⃣ 4,500원 | 식비-외식 | 김밥
2️⃣ 5,500원 | 식비-카페 | 커피

📅 2월 12일 (화)
합계: 10,000원

[목록 보기]
```

---

### 2.3 예산 알림 포함 (80% 도달 시)

```
✅ 8,000원 지출 기록 완료
📂 식비 → 외식

⚠️ 식비 예산 알림
이번 달 40만원 사용 (예산의 80%)
남은 예산: 10만원 (20일 남음)

계획적인 소비 화이팅! 💪

[예산 상세]
```

---

### 2.4 예산 초과 알림

```
✅ 8,000원 지출 기록 완료

🚨 식비 예산 초과!
이번 달 52만원 사용 (예산 50만원)
초과 금액: 2만원

괜찮아요, 다음 달 조정하면 됩니다!

[지출 분석 보기]
```

---

## 3. 확인 요청 메시지 (Confirmation Required)

### 3.1 카테고리 확신도 낮음 (< 0.7)

```
🤔 8,000원 지출을 어느 카테고리로 분류할까요?

입력하신 내용: "치맥 8000원"

AI 추천:
🍽️ 식비 → 외식 (한식당/치킨 등)
🎉 여가 → 술/유흥 (친구 모임)

어느 쪽이 맞나요?
```

**인라인 버튼**:
- `[🍽️ 식비-외식]`
- `[🎉 여가-술유흥]`
- `[🔧 직접 선택]`

---

### 3.2 날짜 확인 요청

```
💬 "어제 영화 봤어, 15000원"

📅 날짜를 확인해주세요:
어제는 2월 11일(월)이 맞나요?
```

**인라인 버튼**:
- `[✅ 맞아요 (2/11)]`
- `[📅 다른 날짜 선택]`

---

### 3.3 금액 확인 요청 (비정상적으로 큼)

```
😮 입력하신 금액이 평소보다 크네요!

💰 500,000원
📂 식비 → 외식

정말 50만원이 맞나요?
(혹시 금액을 잘못 입력하셨나요?)
```

**인라인 버튼**:
- `[✅ 맞아요]`
- `[✏️ 금액 수정]`

---

### 3.4 중복 입력 의심

```
⏰ 방금 전에 비슷한 지출을 입력하셨어요:

이전: 8,000원 | 식비-외식 | 김치찌개 (1분 전)
지금: 8,000원 | 식비-외식 | 김치찌개

중복 입력인가요?
```

**인라인 버튼**:
- `[❌ 중복이에요 (취소)]`
- `[✅ 별개 지출이에요 (저장)]`

---

## 4. 에러 메시지 (Error Messages)

### 4.1 파싱 실패 - 금액 없음

```
❓ 금액을 찾을 수 없어요.

입력하신 내용: "점심 먹었어"

얼마를 쓰셨나요?
예시: "8000원" 또는 "8천원"
```

---

### 4.2 파싱 실패 - 알 수 없는 표현

```
😅 무슨 뜻인지 이해하지 못했어요.

입력하신 내용: "ㅁㄴㅇㄹ 123 ㄱㄴㄷ"

이렇게 입력해보세요:
"점심에 김치찌개 8000원"
"스타벅스 아메리카노 4500원"

또는 /help 를 눌러 예시를 확인하세요!
```

---

### 4.3 서버 오류 (일시적)

```
⚠️ 일시적인 오류가 발생했어요.

잠시 후 다시 시도해주시겠어요?
입력하신 내용은 저장되었으니 걱정 마세요.

[다시 시도]
```

---

### 4.4 네트워크 타임아웃

```
⏱️ 서버 응답이 지연되고 있어요.

네트워크 상태를 확인하고
잠시 후 다시 시도해주세요.

[재전송]
```

---

### 4.5 AI 서비스 장애 (Claude API 에러)

```
🤖 AI 분류 서비스가 일시적으로 사용 불가예요.

걱정 마세요! 기본 키워드로 분류하고
나중에 자동으로 재분류할게요.

계속 입력하셔도 됩니다 👍
```

---

## 5. 수정/삭제 메시지

### 5.1 삭제 확인 요청

```
🗑️ 삭제하시겠어요?

💰 8,000원
📂 식비 → 외식
📅 2월 12일 (화)
📝 김치찌개

삭제하면 복구할 수 없어요.
```

**인라인 버튼**:
- `[❌ 삭제]`
- `[취소]`

---

### 5.2 삭제 완료

```
✅ 삭제 완료!

8,000원 [식비-외식] 항목이
삭제되었어요.
```

---

### 5.3 마지막 입력 삭제 (메신저 명령)

**사용자 입력**: "방금 거 취소" or "마지막 삭제"

```
✅ 마지막 입력 삭제 완료!

8,000원 | 식비-외식 | 김치찌개
(2분 전 입력)

삭제되었어요.
```

---

### 5.4 삭제할 항목 없음

**사용자 입력**: "삭제"

```
🤷 최근 10분 내 입력한 지출이 없어요.

웹 대시보드에서 이전 지출을
수정하거나 삭제할 수 있어요.

[웹 열기]
```

---

### 5.5 수정 완료 (웹에서 수정 후 알림)

```
✏️ 지출이 수정되었어요!

변경 전: 8,000원 | 식비-외식
변경 후: 12,000원 | 식비-카페

📅 2월 12일 (화)
```

---

## 6. 예산 관련 메시지

### 6.1 예산 설정 안내 (`/budget`)

```
💰 예산 설정

카테고리별 월 예산을 설정하면
초과 시 자동으로 알림을 보내드려요.

현재 설정된 예산:
· 식비: 50만원 (80% 사용)
· 교통: 10만원 (45% 사용)
· 쇼핑: 20만원 (미설정)

[웹에서 예산 설정하기]

💡 Tip: 예산 임계값(기본 80%)도
웹에서 조정할 수 있어요.
```

---

### 6.2 주간 예산 리포트 (월요일 아침)

```
📊 지난주 지출 리포트 (2/5~2/11)

💰 총 지출: 35만원
📈 전주 대비: +10% (3만원 증가)

📂 카테고리별 Top 3:
1️⃣ 식비: 15만원 (43%)
2️⃣ 교통: 8만원 (23%)
3️⃣ 쇼핑: 7만원 (20%)

💡 인사이트:
이번 주 배달음식 지출이
평소보다 2배 높았어요 🍕

[상세 보기]
```

---

### 6.3 월간 예산 리포트 (매월 1일)

```
🗓️ 1월 결산 리포트

💰 총 지출: 180만원
📊 예산 대비: 90% (18만원 남음)

🏆 잘한 카테고리:
· 교통 (예산 대비 -15%)
· 문화 (예산 대비 -20%)

⚠️ 초과한 카테고리:
· 식비 (예산 대비 +12%)
· 쇼핑 (예산 대비 +8%)

🎯 2월 목표:
배달음식 줄이고 외식 비중 낮추기!

[자세히 보기]
```

---

## 7. 도움말 메시지

### 7.1 기본 도움말 (`/help`)

```
📖 HomeNRich 사용 가이드

🗣️ 자연어로 입력하세요:
· "점심에 김치찌개 8000원"
· "스타벅스 아메리카노 4500원"
· "어제 택시비 2만원"
· "편의점에서 과자랑 음료 5천원"

🤖 AI가 자동으로:
✓ 금액 추출
✓ 날짜 파악
✓ 카테고리 분류

📱 명령어:
/help - 도움말
/budget - 예산 현황
/report - 이번 달 리포트
/settings - 설정

🌐 웹 대시보드:
[여기를 눌러 웹에서 확인]

궁금한 점이 있으면
언제든 물어보세요!
```

---

### 7.2 카테고리 목록 안내

**사용자 입력**: "카테고리가 뭐가 있어?"

```
📂 카테고리 목록

🍽️ 식비: 외식, 카페, 장보기, 간식, 술
🚇 교통: 대중교통, 택시, 주차, 주유, 자동차
🏠 주거: 월세, 공과금, 통신, 가구, 수리
🛍️ 쇼핑: 의류, 화장품, 생필품, 전자기기
🏥 의료: 병원, 약국, 건강검진, 의료기기
🎬 문화: 영화, 공연, 책, OTT, 음악
💪 자기계발: 교육, 헬스, 자격증, 외국어
🎉 여가: 여행, 취미, 게임, 술/유흥, 애완동물
💰 금융: 보험, 적금, 대출, 카드, 송금
🔧 기타: 경조사, 기부, 벌금

AI가 자동으로 분류하니
카테고리를 외울 필요 없어요!
```

---

### 7.3 고급 입력 팁

**사용자 입력**: "팁 알려줘"

```
💡 꿀팁 모음

1️⃣ 여러 지출 한 번에 입력
"점심 김밥 4500원, 커피 5500원"
→ 2건으로 자동 분리 저장

2️⃣ 날짜 표현 자유롭게
· 어제, 그제, 지난주 토요일
· 2월 10일, 2/10

3️⃣ 금액 표현 다양하게
· 8000원, 8천원, 만원

4️⃣ 간단하게 입력해도 OK
"점심 8천" → 식비-외식 8000원

5️⃣ 영수증 사진도 가능 (베타)
사진 전송 → OCR 자동 인식

6️⃣ 방금 입력 취소
"방금 거 취소" or "마지막 삭제"

더 궁금한 건 물어보세요!
```

---

## 8. 통계 및 인사이트 메시지

### 8.1 이번 달 요약 (`/report`)

```
📊 2월 지출 현황 (2/1~2/12)

💰 총 지출: 45만원
📅 일평균: 3.8만원
📈 작년 2월 대비: +5%

📂 카테고리별:
1️⃣ 식비: 18만원 (40%)
2️⃣ 교통: 8만원 (18%)
3️⃣ 쇼핑: 10만원 (22%)
4️⃣ 기타: 9만원 (20%)

🎯 예산 달성률: 75%
(예산 60만원 중 45만원 사용)

💡 AI 인사이트:
이번 달 배달음식이 12건으로
평소(6건)보다 2배 많아요.

[자세히 보기]
```

---

### 8.2 최대 지출 항목 알림

```
🏆 이번 달 최대 지출

💰 85,000원
📂 쇼핑 → 의류
📅 2월 8일 (토)
📝 겨울 패딩

혹시 충동구매는 아니었나요? 😅

[이번 달 Top 5 보기]
```

---

### 8.3 절약 칭찬 메시지

```
👏 잘하고 있어요!

이번 주 교통비가
작년 평균보다 30% 적어요.

🚇 대중교통 잘 이용하시네요!

계속 이 패턴 유지하면
연말에 36만원 절약 가능해요 💰

[절약 내역 보기]
```

---

### 8.4 과소비 경고 (친근하게)

```
😅 이번 주 배달음식이 많았어요!

🍕 배달: 12만원 (7건)
📊 평소 대비: +150%

다음 주는 직접 요리하거나
식당 방문은 어떨까요?

식비 예산도 곧 초과할 것 같아요 ⚠️

[식비 분석 보기]
```

---

## 9. 특수 상황 메시지

### 9.1 장기 미사용 (7일 이상)

```
👋 오랜만이에요!

마지막 입력이 7일 전이네요.
혹시 가계부 쓰기 힘드셨나요?

💡 Tip:
지출한 직후 바로 입력하면
잊어버리지 않아요!

지금 바로 시작해볼까요?
```

---

### 9.2 연속 입력 칭찬 (스트릭)

```
🔥 7일 연속 입력 달성!

매일 꾸준히 기록하시는군요!
훌륭해요! 👏

💪 이대로 한 달 채우면
특별 배지를 드려요!

[내 기록 보기]
```

---

### 9.3 월 첫 입력

```
🗓️ 3월 첫 입력이에요!

새로운 달, 새로운 시작!
이번 달 목표는 무엇인가요?

💡 예산 설정을 아직 안 하셨다면
지금 설정해보세요.

[예산 설정하기]
```

---

### 9.4 데이터 백업 완료

```
☁️ 자동 백업 완료

2월 지출 데이터 (243건)가
안전하게 백업되었어요.

언제든 복구할 수 있으니
안심하고 사용하세요!
```

---

## 10. 설정 메시지

### 10.1 설정 메뉴 (`/settings`)

```
⚙️ 설정

📲 알림 설정:
· 예산 초과 알림: ✅ 켜짐
· 주간 리포트: ✅ 켜짐 (월요일 9시)
· 월간 리포트: ✅ 켜짐 (매월 1일)

🔔 알림 임계값:
· 예산 80% 도달: ✅
· 예산 100% 초과: ✅

🌐 연동 계정:
· 웹 대시보드: 연동됨
· 이메일: example@email.com

[설정 변경하기]
```

---

### 10.2 알림 설정 변경 확인

```
✅ 알림 설정이 변경되었어요!

🔕 주간 리포트 알림이 꺼졌어요.

원할 때 언제든 /report 명령으로
현황을 확인할 수 있어요.

[설정으로 돌아가기]
```

---

## 11. 이벤트/프로모션 메시지 (Optional)

### 11.1 신기능 안내

```
✨ 새로운 기능이 추가되었어요!

📷 영수증 사진 인식 (베타)
이제 영수증 사진을 보내면
OCR로 자동 인식해요!

편의점, 식당 영수증 사진을
시험해보세요.

[자세히 보기]
```

---

### 11.2 서비스 공지

```
📢 공지사항

오늘(2/15) 오전 2~4시
서버 점검이 있어요.

점검 시간에는 일시적으로
서비스 이용이 안 될 수 있어요.

입력하신 내용은 자동 저장되니
걱정 마세요!
```

---

## 12. 메시지 템플릿 변수

백엔드에서 동적으로 치환할 변수들:

```python
# 공통 변수
{user_name}         # 사용자 이름
{amount}            # 금액 (쉼표 포맷: 8,000)
{date}              # 날짜 (M월 D일 요일)
{category_primary}  # 대분류 (식비)
{category_sub}      # 중분류 (외식)
{description}       # 메모/설명
{confidence}        # AI 확신도 (0.0~1.0)

# 통계 변수
{total_spent}       # 총 지출액
{budget_rate}       # 예산 사용률 (%)
{day_avg}           # 일평균 지출
{prev_compare}      # 전 기간 대비 (%)

# 시간 변수
{current_month}     # 현재 월 (2월)
{days_left}         # 남은 일수 (20일)
{week_range}        # 주 범위 (2/5~2/11)
```

---

## 13. 메시지 우선순위 (동시 발생 시)

1. **긴급 알림** (예산 초과, 시스템 장애)
2. **확인 요청** (사용자 입력 대기)
3. **성공 메시지** (지출 저장 완료)
4. **정기 리포트** (주간/월간)
5. **인사이트** (통계, 칭찬, 경고)
6. **공지사항** (신기능, 점검)

---

## 14. A/B 테스트 후보 메시지

### 버전 A (간결형)

```
✅ 8,000원 저장 (식비-외식)
```

### 버전 B (상세형)

```
✅ 지출이 기록되었어요!

💰 8,000원
📂 식비 → 외식
📅 2월 12일 (화)
📝 김치찌개

[수정] [삭제]
```

**테스트 지표**: 사용자 수정률, 재입력률, 만족도 설문

---

## 15. 다국어 지원 준비 (Post-MVP)

### 영어 버전 예시

```
✅ Expense saved!

💰 ₩8,000
📂 Food → Dining out
📅 Feb 12 (Tue)
📝 Kimchi stew

[Edit] [Delete]
```

### 일본어 버전 예시

```
✅ 支出が記録されました!

💰 8,000円
📂 食費 → 外食
📅 2月12日(火)
📝 キムチチゲ

[編集] [削除]
```

---

## 16. 메시지 작성 가이드라인

### DO ✅
- 이모지 적절히 사용 (가독성 향상)
- 핵심 정보 먼저, 부가 정보 나중
- 사용자 액션 버튼 명확하게
- 에러는 해결 방법과 함께 제시
- 긍정적/친근한 톤 유지

### DON'T ❌
- 이모지 남용 (한 메시지에 5개 이상)
- 전문 용어나 영어 약어 (UX, API 등)
- 부정적 표현 ("실패", "오류", "문제")
- 장황한 설명 (3줄 이상 지양)
- 사용자 비난 ("잘못 입력하셨어요")

---

## 17. 구현 우선순위

### Week 1 (P0)
- [x] 온보딩 메시지 (1.1, 1.2)
- [x] 지출 저장 성공 (2.1)
- [x] 에러 메시지 (4.1, 4.2, 4.3)
- [x] 도움말 (7.1)

### Week 2 (P0)
- [ ] 확인 요청 (3.1, 3.2)
- [ ] 여러 지출 저장 (2.2)
- [ ] 삭제 관련 (5.1~5.4)

### Week 3 (P1)
- [ ] 예산 알림 (2.3, 2.4)
- [ ] 예산 설정 (6.1)
- [ ] 주간 리포트 (6.2)

### Week 4 (P2)
- [ ] 월간 리포트 (6.3)
- [ ] 통계/인사이트 (8.1~8.4)
- [ ] 특수 상황 (9.1~9.4)

---

## 18. 테스트 체크리스트

- [ ] 모든 메시지에 이모지 1~3개 포함
- [ ] 버튼 텍스트 20자 이내
- [ ] 메시지 길이 텔레그램 4096자 제한 준수
- [ ] 변수 치환 오류 없음 (`{amount}` 등)
- [ ] 줄바꿈 (\n) 올바르게 작동
- [ ] 인라인 버튼 누르면 의도한 동작 실행
- [ ] 에러 메시지에 재시도 방법 명시
- [ ] 한국어 자연스러움 (문법, 맞춤법)

---

## 19. 메시지 개선 로그

### 개선 전
```
에러가 발생했습니다. 다시 시도하세요.
```

### 개선 후
```
⚠️ 일시적인 오류가 발생했어요.
잠시 후 다시 시도해주시겠어요?
```

**근거**: 사용자 친화적 톤, 해결 방법 제시, 이모지 추가

---

## 20. 참고 자료

- [Telegram Bot Formatting](https://core.telegram.org/bots/api#formatting-options)
- [이모지 가이드](https://emojipedia.org/)
- [UX Writing Best Practices](https://uxwritinghub.com/)

---

**변경 이력**
- 2026-02-12: v1.0.0 초안 작성 (60+ 메시지 템플릿)
